<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang = "en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"  integrity="sha384-KyZXEJr+H08xv4gDsmvPbsS4v1MZBdFQZGosWKHg+8ec0Wrx1pX5Qifbbl6CfnB2" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap.min.css">

  <link rel="stylesheet" href="/css/allStyle.css">
  <title>Trang Đăng Ký</title>
</head>
<body>
<!-- Include Header -->
<div th:replace="~{home/header :: header}"></div>

<!-- Content -->
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h2 class="text-left mb-4">Đăng Ký Tài Khoản</h2>
      <form th:action="@{/registry}" method="post" th:object="${user}">
        <div class="errorMess" th:if="${registrationError}" th:text ="${registrationError}" ></div>
        <!-- Tên đăng nhập -->
        <div class="form-group">
          <label for="username" class="form-label">Tên Đăng Nhập: </label>
          <input type="text" id="username" name="username" th:field="*{username}" class="form-control" placeholder="Nhập tên đăng nhập" required>
          <div class="errorMess" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"></div>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email" class="form-label">Email: </label>
          <input type="text" id="email" name="email" th:field="*{email}" class="form-control" placeholder="Nhập email hợp lệ" required>
          <div class="errorMess" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
        </div>

        <!-- Số điện thoại -->
        <div class="form-group">
          <label for="phone" class="form-label">Số Điện Thoại: </label>
          <input type="text" id="phone" name="phone" th:field="*{phone}" class="form-control" placeholder="Nhập số điện thoại" required>
          <div class="errorMess" th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}"></div>
        </div>

        <!-- Mật khẩu -->
        <div class="form-group">
          <label for="password" class="form-label">Mật Khẩu: </label>
          <input type="password" id="password" name="password" th:field="*{password}" class="form-control" placeholder="Nhập mật khẩu" required>
          <div class="errorMess" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
        </div>

        <!-- Xác nhận mật khẩu -->
        <div class="form-group">
          <label for="confirmPassword" class="form-label">Xác Nhận Mật Khẩu: </label>
          <input type="password" id="confirmPassword" name="confirmPassword" class="form-control" placeholder="Nhập lại mật khẩu" required>
          <div class="errorMess" th:if="${confirmpassError}" th:text="${confirmpassError}"></div>
        </div>

        <!-- Địa chỉ -->
        <div class="form-group">
          <label for="address" class="form-label">Địa Chỉ: </label>
          <textarea id="address" name="address" th:field="*{address}" class="form-control" placeholder="Nhập địa chỉ" required></textarea>

        </div>
        <div class="form-group">
          <label for="role" class="form-label">Vai trò: </label>
          <select id="role" name="role" th:field="*{role}" class="form-control" required>
            <option value="" disabled selected >Chọn vai trò</option>
            <option value="FARMER">Nông trại</option>
            <option value="BUYER">Thương Lái</option>
           </select>
          <div class="errorMess" th:if="${#fields.hasErrors('role')}" th:errors="*{role}"></div>
        </div>
        <!-- Nút đăng ký -->
        <div class="form-group">
          <label for="btn-dangky" class="form-label">
            <button id="btn-dangky" type="submit" class="btn btn-primary w-100">Đăng Ký</button>
          </label>
        </div>
        <!-- Liên kết đến trang đăng nhập -->
        <div class="form-group">
          <label class="form-label text-right">
            <p>Đã có tài khoản? <a href="/login">Đăng nhập</a></p>
          </label>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Include Footer -->
<div th:replace="~{home/footer :: footer}"></div>
<!-- Bootstrap & jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
</body>
</html>