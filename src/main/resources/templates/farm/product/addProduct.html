<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang = "en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/css/bootstrap.min.css">

  <link rel="stylesheet" href="/css/allStyle.css">
  <title>Thêm Sản Phẩm</title>
</head>
<body>
<!-- Include Header -->
<div th:replace="~{home/header :: header}"></div>

<!-- Content -->
<div class="container-fluid">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <h2 class="text-center mb-4">Tạo Mới Sản Phẩm</h2>
      <div th:object="${farm}">
      <form th:action="@{/addProduct/{id} (id=${farm.id})}" method="post" th:object="${product}" enctype="multipart/form-data">
      <input type="hidden" th:value="${farm.id}"/>
        <!-- Example Thymeleaf template -->
        <div th:if="${farm != null}">
          <p th:text="${farm.id}">Farm ID</p>
        </div>
        <div class="text-danger" th:if="${errorMess}" th:text ="${errorMess}" ></div>

        <!-- Tên sản phẩm -->
        <div class="form-group">
          <label for="productName" class="form-label">Tên Sản phẩm: </label>
          <input type="text" id="productName" name="productName" th:field="*{productName}" class="form-control" placeholder="Nhập tên sản phẩm" required>
          <div class="text-danger" th:if="${#fields.hasErrors('productName')}" th:errors="*{productName}"></div>
        </div>

        <!-- Số tồn kho -->
        <div class="form-group">
          <label for="numberOfStock" class="form-label">Số tồn kho: </label>
          <input type="number" id="numberOfStock" name="numberOfStock" th:field="*{numberOfStock}" class="form-control" placeholder="Nhập số lượng tồn kho" required>
          <div class="text-danger" th:if="${#fields.hasErrors('numberOfStock')}" th:errors="*{numberOfStock}"></div>
        </div>

        <!-- Đơn giá -->
        <div class="form-group">
          <label for="price" class="form-label">Đơn giá (VNĐ): </label>
          <input type="number" id="price" name="price" th:field="*{price}" class="form-control" placeholder="Nhập giá sản phẩm" required>
          <div class="text-danger" th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></div>
        </div>

        <!-- Mô tả sản phẩm -->
        <div class="form-group">
          <label for="desc" class="form-label">Mô tả sản phẩm: </label>
          <textarea id="desc" name="desc" th:field="*{description}" class="form-control" placeholder="Nhập mô tả sản phẩm" required></textarea>
          <div class="text-danger" th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></div>
        </div>

        <!-- Hình ảnh sản phẩm -->
        <div class="form-group">
          <label for="file" class="form-label">Hình ảnh sản phẩm: </label>
          <input type="file" id="file" name="imageFile" class="form-control">
        </div>

        <!-- Loại sản phẩm -->
        <div class="form-group">
          <label for="productCategory" class="form-label">Loại sản phẩm: </label>
          <select id="productCategory" name="productCategory" th:field="*{productCategory}" class="form-control" required>
            <option th:each=" category: ${categories}" th:value="${category}" th:text="${category.vietnamese}"> </option>
          </select>
          <div class="text-danger" th:if="${#fields.hasErrors('productCategory')}" th:errors="*{productCategory}"></div>
        </div>
        <!-- Đơn vị tính -->
        <div class="form-group">
          <label for="productUnit" class="form-label">Đơn vị tính: </label>
          <select id="productUnit" name="productUnit" th:field="*{unit}" class="form-control" required>
            <option th:each="unit:${units}" th:value="${unit}" th:text="${unit.vietnamese}" ></option>
          </select>
        </div>
        <!-- Nút đăng ký -->
        <div class="form-group">
          <label for="btn-addProduct" class="form-label">
          <button id="btn-addProduct" type="submit" class="btn btn-primary" >Thêm sản phẩm</button>
          </label>
        </div>

        <!-- Liên kết quay lại -->
        <div class="form-group">
          <label class="=form-label text-center ">
            <p><a href="/">Quay lại trang chủ</a></p>
          </label>

        </div>
      </form>
      </div>
    </div>
  </div>
</div>

<!-- Include Footer -->
<div th:replace="~{home/footer :: footer}"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.1/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
</body>
</html>